---
import BaseLayout from "../../layouts/BaseLayout.astro";
const base = import.meta.env.BASE_URL; // "/" en local, "/kaelum/" en GitHub Pages
const pdfUrl = `${base}docs/GDD_KAELUM.pdf`;
---

<BaseLayout title="Kaelum – GDD (PDF)" description="GDD completo de Kaelum en visor embebido.">
  <section class="hero">
    <p class="kicker">Documento</p>
    <h1>GDD completo (PDF)</h1>
    <p class="lead">
      Visor embebido para lectura rápida. Si el navegador no lo soporta, tienes alternativas debajo.
    </p>

    <div class="actions">
      <a class="btn primary" href={pdfUrl} target="_blank" rel="noreferrer">Abrir en pestaña nueva</a>
      <a class="btn" href={pdfUrl} download>Descargar PDF</a>
      <a class="btn" href={`${import.meta.env.BASE_URL}docs/`}>Volver a Docs</a>
    </div>
  </section>

  <div class="grid">
    <div class="card full">
      <h3>Visor</h3>
      <div class="pdf-shell">
        <object data={pdfUrl} type="application/pdf" class="pdf-object">
          <div class="pdf-fallback">
            <p class="muted" style="margin:0 0 10px">
              Tu navegador no pudo mostrar el PDF embebido.
            </p>
            <div class="actions">
              <a class="btn primary" href={pdfUrl} target="_blank" rel="noreferrer">Abrir PDF</a>
              <a class="btn" href={pdfUrl} download>Descargar</a>
            </div>
          </div>
        </object>
      </div>
    </div>
  </div>

  <style>
    .pdf-shell{
      border: 1px solid var(--border);
      background: rgba(255,255,255,.03);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      margin-top: 10px;
    }
    .pdf-object{
      width: 100%;
      height: min(78vh, 980px);
      display: block;
      background: rgba(0,0,0,.2);
    }
    .pdf-fallback{ padding: 16px; }
  </style>
</BaseLayout>
