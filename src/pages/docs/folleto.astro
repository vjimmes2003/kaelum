---
import BaseLayout from "../../layouts/BaseLayout.astro";
const base = import.meta.env.BASE_URL;

// Pon tu SVG aquí: /public/images/NyxtaleStudios.svg
const logoUrl = `${base}images/NyxtaleStudios.svg`;
---

<BaseLayout
  title="Kaelum — Folleto (A4)"
  description="Folleto imprimible (A4) en una sola página: resumen comprimido y presentable."
>
  <section class="hero">
    <p class="kicker">Documento</p>
    <h1>Folleto (A4)</h1>
    <p class="lead">
      Handout rápido del proyecto. En web se ve bien; al imprimir entra en 1 A4 sin saltos.
    </p>

    <div class="actions noprint" id="imprimir">
      <a class="btn primary" href="#" onclick="window.print(); return false;">Imprimir (A4)</a>
      <a class="btn" href={`${base}docs/`}>Volver a Docs</a>
      <a class="btn" href={`${base}kaelum/`}>Ver proyecto</a>
    </div>
  </section>

  <section class="flyer" aria-label="Folleto Kaelum imprimible A4">
    <!-- BRANDING TOP (centrado) -->
    <header class="flyer-brand">
      <div class="brand-stack">
        <img
          class="brand-logo"
          src={logoUrl}
          alt="Nyxtale Studios"
          loading="eager"
          onerror="this.style.display='none'"
        />

        <div class="brand-text">
          <div class="brand-studio">Nyxtale Studios</div>
          <div class="brand-project">KAELUM</div>
        </div>
      </div>

      <p class="brand-tagline">
        Shooter FPS: <strong>armas primero</strong>, habilidades como extra. Historia (Kael) + multi competitivo.
      </p>

      <p class="brand-pitch">
        Gunplay claro y movimiento fluido. La historia se descubre jugando: detalles, rutas y hallazgos,
        sin pararte con chapa.
      </p>

      <div class="meta">
        <span class="tag">PC</span>
        <span class="tag">FPS</span>
        <span class="tag">A4</span>
        <span class="tag">Prototipo</span>
      </div>
    </header>

    <!-- 6 bloques: 2 columnas x 3 filas -->
    <div class="flyer-grid">
      <section class="block" data-area="obj">
        <h3>Objetivo</h3>
        <p>
          Un FPS con identidad: mundo reconocible, protagonista con carácter y una sensación de disparo
          que enganche desde el primer minuto.
        </p>
      </section>

      <section class="block" data-area="loop">
        <h3>Core loop</h3>
        <p><strong>Explorar → Conflicto → Combatir → Recompensa → Mejorar</strong></p>
        <p class="small muted">
          Historia: progreso ligero · Multi: rondas/objetivos + skill del jugador.
        </p>
      </section>

      <section class="block" data-area="fantasy">
        <h3>Fantasy (promesa)</h3>
        <ul>
          <li>Movimiento fluido y controlado</li>
          <li>Gunplay claro y satisfactorio</li>
          <li>Curiosidad premiada (rutas/hallazgos)</li>
          <li>Momentos épicos sin abusar de cinemáticas</li>
        </ul>
      </section>

      <section class="block" data-area="modos">
        <h3>Modos</h3>
        <ul>
          <li><strong>Historia:</strong> Kael como eje (narrativa ambiental)</li>
          <li><strong>Multi:</strong> roster separado (balance)</li>
          <li><strong>Partidas:</strong> rápidas (5–15 min) y por rondas</li>
        </ul>
      </section>

      <section class="block" data-area="pilares">
        <h3>Pilares</h3>
        <ul>
          <li><strong>Armas primero</strong> (núcleo)</li>
          <li><strong>Habilidades extra</strong> (utilidad / daño / especial)</li>
          <li><strong>Scope realista</strong> (pocas cosas bien hechas)</li>
          <li><strong>Narrativa contextual</strong> (no bloquea el ritmo)</li>
        </ul>
      </section>

      <section class="block" data-area="scope">
        <h3>Alcance inicial</h3>
        <ul>
          <li><strong>2 modos:</strong> TDM + Buscar y destruir</li>
          <li><strong>2 mapas:</strong> chill + rondas</li>
          <li><strong>Roster:</strong> objetivo 6 (proto 2–3)</li>
          <li><strong>Progreso:</strong> single ligero · multi estético (futuro)</li>
        </ul>
      </section>

      <!-- Solo web -->
      <section class="block noprint links-block" data-area="links">
        <h3>Enlaces</h3>
        <p class="small muted">Para el detalle completo:</p>
        <ul>
          <li><a href={`${base}kaelum/`}>Resumen del proyecto</a></li>
          <li><a href={`${base}docs/gdd/`}>GDD (PDF)</a></li>
          <li><a href={`${base}devlog/`}>Devlog</a></li>
        </ul>
      </section>
    </div>

    <footer class="flyer-foot">
      <span>Nyxtale Studios</span>
      <span class="muted">© 2026</span>
    </footer>
  </section>

  <style>
    /* Mantener color en print (y web) */
    :global(html){
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    /* --- WEB --- */
    .flyer{
      margin-top: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.04);
      border-radius: calc(var(--radius) + 8px);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .flyer-brand{
      padding: 22px 18px;
      border-bottom: 1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      text-align: center;
    }

    /* AQUÍ lo que pedías: flex column, centrado */
    .brand-stack{
      display:flex;
      flex-direction: column;
      align-items:center;
      justify-content:center;
      gap: 10px;
    }

    /* SVG más grande */
    .brand-logo{
      display: none;
      width: auto;
      height: 300px;
      object-fit: contain;
    }

    .brand-text{
      display:flex;
      flex-direction: column;
      align-items:center;
      line-height: 1.05;
    }

    .brand-studio{
      font-weight: 900;
      color: var(--muted2);
      letter-spacing: .10em;
      text-transform: uppercase;
      font-size: .78rem;
    }

    .brand-project{
      font-weight: 1000;
      letter-spacing: .18em;
      font-size: 34px;
      margin-top: 4px;
    }

    .brand-tagline{
      margin: 14px 0 10px;
      color: var(--muted);
      font-weight: 900;
    }

    .brand-pitch{
      margin:0;
      color: var(--muted);
      max-width: 78ch;
      margin-inline:auto;
    }

    .flyer-grid{
      padding: 14px;
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }

    .block{
      grid-column: span 6;
      border: 1px solid var(--border);
      background: rgba(0,0,0,.18);
      border-radius: var(--radius);
      padding: 14px;
      box-shadow: 0 16px 40px rgba(0,0,0,.20);
    }

    .block h3{ margin:0 0 8px; }
    .block p{ margin:0; color: var(--muted); }
    .block ul{ margin: 8px 0 0; padding-left: 18px; color: var(--muted); }
    .block .small{ margin-top: 6px; }

    .links-block{ grid-column: span 12; }

    .flyer-foot{
      display:flex;
      justify-content: space-between;
      gap: 12px;
      padding: 12px 16px;
      border-top: 1px solid var(--border);
      background: rgba(10,14,28,.22);
      color: var(--muted2);
      flex-wrap: wrap;
    }

    @media (max-width: 860px){
      .block{ grid-column: span 12; }
    }

    /* --- PRINT --- */
    @media print {
      @page { size: A4; margin: 10mm; }

      /* CLAVE: layout está fuera, hay que usar :global */
      :global(.topbar),
      :global(.footer),
      :global(.noprint){
        display: none !important;
      }

      :global(body)::before,
      :global(body)::after{
        display:none !important;
      }

      :global(main.wrap){
        margin: 0 !important;
        width: auto !important;
      }

      /* ocultar hero al imprimir */
      :global(.hero){
        display:none !important;
      }
      .brand-logo{
        display:block;
      }
      .flyer{
        transform: scale(0.975);
        transform-origin: top center;
        box-shadow: none !important;
      }

      .block{
        box-shadow:none !important;
        break-inside: avoid;
        page-break-inside: avoid;
      }

      /* 2 columnas x 3 filas fijas */
      .flyer-grid{
        padding: 6mm !important;
        gap: 5mm !important;
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        grid-template-rows: auto auto auto !important;
        align-items: start !important;
      }

      .block{ padding: 7px !important; }

      .block h3{
        font-size: 11px !important;
        margin:0 0 6px !important;
      }

      .block p,
      .block li{
        font-size: 10.3px !important;
        line-height: 1.18 !important;
      }

      .block[data-area="obj"]{ grid-column: 1; grid-row: 1; }
      .block[data-area="loop"]{ grid-column: 2; grid-row: 1; }

      .block[data-area="fantasy"]{ grid-column: 1; grid-row: 2; }
      .block[data-area="modos"]{ grid-column: 2; grid-row: 2; }

      .block[data-area="pilares"]{ grid-column: 1; grid-row: 3; }
      .block[data-area="scope"]{ grid-column: 2; grid-row: 3; }
    }
  </style>
</BaseLayout>
